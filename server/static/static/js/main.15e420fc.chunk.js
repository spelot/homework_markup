(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{36:function(e,t,a){e.exports=a(70)},41:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=(a(41),a(13)),s=a(1),l="APP_LOADING",u="POPUP",m="FETCH_CONFIG",d="SAVE_CONFIG",f="TOGGLE_PROGRESS",p="FETCH_BUILDS",v="FETCH_MORE_BUILDS",b="DETAILS_BUILD",h="LOG_BUILD",N="NEW_BUILD_ID",E="GO_TO_SETTINGS",g="RUN_BUILD",y="REBUILD",O="School CI server",x="http://localhost:9999/api",j=a(8),C=Object(j.a)(),k=a(4),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){var a=Object(k.a)(t,2),n=a[0],r=a[1];return"".concat(e,"_").concat(n).concat([void 0,!1,null].includes(r)?"":"_".concat(r))})).join(" ")};a(46);var T=function(e){var t=e.className,a=void 0===t?"":t,n=e.modifiers,c=void 0===n?[]:n,o=e.onClick;return r.a.createElement("div",{className:"".concat(a," ").concat("Icon"," ").concat(w("Icon",c)),onClick:o})};a(47);var F=function(e){var t=e.className,a=void 0===t?"":t,n=e.modifiers,c=void 0===n?[]:n,o=e.onClick,i=void 0===o?function(){}:o,l=e.text,u=void 0===l?null:l,m=e.iconType,d=void 0===m?null:m,f=e.type,p=void 0===f?"button":f,v=Object(s.c)((function(e){return e.common.isInProgress}));return r.a.createElement("button",{type:p,className:"".concat(a," ").concat("Button"," ").concat(w("Button",c)," ").concat(v?"".concat("Button","_disabled"):""),onClick:i},d&&r.a.createElement(T,{className:"".concat("Button","-Icon"),modifiers:[["type",d]]}),u&&r.a.createElement("div",{className:"".concat("Button","-Text")},u))};a(48);var I=function(e){var t="WithoutConfiguration",a=e.className,n=void 0===a?"":a,c=e.modifiers,o=void 0===c?[]:c,i=e.actionFn;return r.a.createElement("main",{className:"".concat(n," ").concat(t," ").concat(w(t,o))},r.a.createElement("div",{className:"".concat(t,"-Content")},r.a.createElement(T,{className:"".concat(t,"-Logo"),modifiers:[["type","settingsLogo"]]}),r.a.createElement("div",{className:"".concat(t,"-Description Text")},"Configure repository connection and synchronization settings"),r.a.createElement(F,{className:"".concat(t,"-Button"),modifiers:[["color","accent"]],onClick:i,text:"Open settings"})))},_=(a(49),function(e){return{type:f,payload:e}}),B=function(e){return{type:u,payload:e}},L=a(3),S=a.n(L),P=a(5),D=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){var r=new URL("".concat(x,"/builds"));return r.search=new URLSearchParams(t).toString(),console.log("fetchBuilds: ",r),fetch(r).then((function(e){return e.json()})).then(function(){var r=Object(P.a)(S.a.mark((function r(c){var o;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.data,!c.error){r.next=9;break}if(!(++a<10)){r.next=7;break}return r.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return r.abrupt("return",e(t,a)(n));case 7:r.next=10;break;case 9:n({type:p,payload:o});case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},H=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){return console.log("fetchDetails: ",t),fetch("".concat(x,"/builds/").concat(t)).then((function(e){return e.json()})).then(function(){var c=Object(P.a)(S.a.mark((function c(o){var i;return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(i=o.data,!o.error){c.next=9;break}if(!(++a<10)){c.next=7;break}return c.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return c.abrupt("return",e(t,a,n)(r));case 7:return n&&C.push("/"),c.abrupt("return",null);case 9:if(!n){c.next=13;break}r({type:b,payload:i}),c.next=14;break;case 13:return c.abrupt("return",i);case 14:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())}},R=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r){return console.log("fetchLog: ",t),fetch("".concat(x,"/builds/").concat(t,"/logs")).then((function(e){return e.json()})).then(function(){var c=Object(P.a)(S.a.mark((function c(o){return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!o.error){c.next=8;break}if(!(++a<10)){c.next=6;break}return c.next=5,new Promise((function(e){return setTimeout(e,1e3)}));case 5:return c.abrupt("return",e(t,a,n)(r));case 6:return n&&C.push("/"),c.abrupt("return",null);case 8:if(!n){c.next=12;break}r({type:h,payload:o}),c.next=13;break;case 12:return c.abrupt("return",o);case 13:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())}},M=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return console.log("try to add build by commit: ",t),n(_(!0)),fetch("".concat(x,"/builds/").concat(t),{method:"POST"}).then((function(e){return e.json()})).then(function(){var r=Object(P.a)(S.a.mark((function r(c){var o;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.data,!c.error){r.next=10;break}if(!(++a<10)){r.next=7;break}return r.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return r.abrupt("return",e(t,a)(n));case 7:return n(_(!1)),n(B(!1)),r.abrupt("return",null);case 10:n({type:b,payload:{}}),n({type:N,payload:o.id}),n(_(!1)),n(B(!1)),C.push("/build/".concat(o.id));case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},U=a(24),W=a(6),A={data:[],details:null,log:null,newBuildId:null},G=function(e){return e.builds.data},q=function(e){return e.builds.details},z=function(e){return e.builds.log},X=function(e){return e.builds.newBuildId};var J=function(e){var t=e.className,a=void 0===t?"":t,n=e.modifiers,c=void 0===n?[]:n,o=e.title,i=void 0===o?{text:!1,modifiers:[]}:o,l=e.buttons,u=void 0===l?[]:l,m=Object(s.b)(),d=Object(s.c)(q);return r.a.createElement("header",{className:"".concat(a," ").concat("Header"," ").concat(w("Header",c))},r.a.createElement("div",{className:"".concat("Header","-Content")},i.text&&r.a.createElement("div",{className:"".concat("Header","-Title Text ").concat(w("Text",i.modifiers))},i.text),u.length>0&&r.a.createElement("div",{className:"".concat("Header","-ButtonsBlock")},u.map((function(e,t){var a,n=e.modifiers,c=e.onClick,o=e.text,i=e.iconType;switch(c){case E:a=function(){return C.push("/settings")};break;case g:a=function(){m(B(!0))};break;case y:a=function(){m(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return console.log("try to rebuild build by commit: ",t),n(_(!0)),fetch("".concat(x,"/builds/").concat(t),{method:"POST"}).then((function(e){return e.json()})).then(function(){var r=Object(P.a)(S.a.mark((function r(c){var o;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.data,!c.error){r.next=9;break}if(!(++a<10)){r.next=7;break}return r.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return r.abrupt("return",e(t,a)(n));case 7:return n(_(!1)),r.abrupt("return",null);case 9:n({type:b,payload:{}}),n({type:N,payload:o.id}),n(_(!1)),C.push("/build/".concat(o.id));case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}(d.commitHash))}}return r.a.createElement(F,{key:t,className:"".concat("Header","-Button"),modifiers:n,onClick:a,text:o,iconType:i})})))))};var V=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c;return Object(n.useEffect)((function(){document.title=O}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{className:"Container-Header",title:{text:O,modifiers:[["type","headerTitle"]]},buttons:[{modifiers:[["type","control"],["icon","before"]],onClick:E,text:"Settings",iconType:"settings"}]}),r.a.createElement(I,{className:a,modifiers:o,actionFn:function(){return C.push("/settings")}}))},$=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n(_(!0)),fetch("".concat(x,"/settings"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then(function(){var r=Object(P.a)(S.a.mark((function r(c){return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!c.error){r.next=9;break}if(!(++a<10)){r.next=7;break}return r.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return r.abrupt("return",e(t,a)(n));case 7:r.next=10;break;case 9:n({type:d,payload:t});case 10:n(_(!1)),C.goBack();case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},Y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return console.log("fetchSettings"),fetch("".concat(x,"/settings")).then((function(e){return e.json()})).then(function(){var r=Object(P.a)(S.a.mark((function r(c){var o;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.data,!c.error){r.next=8;break}if(!(++t<10)){r.next=7;break}return r.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return r.abrupt("return",e(t,a)(n));case 7:return r.abrupt("return",null);case 8:if(!a){r.next=12;break}n({type:m,payload:o}),r.next=13;break;case 12:return r.abrupt("return",o);case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}};a(51);var K=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c,i=e.labelBefore,l=void 0===i?{text:!1,className:"",modifiers:[]}:i,u=e.labelAfter,m=void 0===u?{text:!1,className:"",modifiers:[]}:u,d=e.id,f=e.type,p=void 0===f?"text":f,v=e.placeholder,b=void 0===v?null:v,h=e.name,N=e.required,E=void 0!==N&&N,g=e.inputMode,y=e.value,O=void 0===y?"":y,x=e.pattern,j=e.forwardRef,C=o.filter((function(e){var t=Object(k.a)(e,2),a=t[0],n=t[1];return"clear"===a&&"visible"===n})).length>0,F=Object(n.useState)(O),I=Object(k.a)(F,2),_=I[0],B=I[1],L=Object(s.c)((function(e){return e.common.isInProgress}));return r.a.createElement(r.a.Fragment,null,l.text&&r.a.createElement("label",{htmlFor:d,className:"".concat(l.className," Text ").concat(w("Text",l.modifiers))},l.text),r.a.createElement("div",{className:"".concat(a," ").concat("Input"," ").concat(w("Input",o)," ").concat(L?"".concat("Input","_disabled"):"")},r.a.createElement("input",{id:d,className:"".concat("Input","-Control"),type:p,placeholder:b,name:h,required:E,onChange:function(e){return B(e.target.value)},value:_,inputMode:g,pattern:x,ref:j}),C&&r.a.createElement(T,{className:"".concat("Input","-ClearIcon"),modifiers:[["type","clear"]],onClick:function(){return B("")}})),m.text&&r.a.createElement("label",{htmlFor:d,className:"".concat(m.className," Text ").concat(w("Text",m.modifiers))},m.text))};a(52);var Q=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c,i=Object(s.b)(),l=Object(n.useRef)(null),u=Object(n.useRef)(null),m=Object(n.useRef)(null),d=Object(n.useRef)(null),f=Object(s.c)((function(e){return e.settings.config.repoName?e.settings.config.repoName:""})),p=Object(s.c)((function(e){return e.settings.config.buildCommand?e.settings.config.buildCommand:""})),v=Object(s.c)((function(e){return e.settings.config.mainBranch?e.settings.config.mainBranch:""})),b=Object(s.c)((function(e){return e.settings.config.period?e.settings.config.period:"10"})),h=function(){var e=Object(P.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.preventDefault(),a={repoName:l.current.value,buildCommand:u.current.value,mainBranch:m.current.value,period:d.current.value},console.log("config: ",a),i($(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"".concat(a," ").concat("Form"," ").concat(w("Form",o)),onSubmit:h},r.a.createElement("div",{className:"".concat("Form","-Content")},r.a.createElement("div",{className:"".concat("Form","-Item ").concat("Form","-Item_type_header")},r.a.createElement("div",{className:"".concat("Form","-Label Text Text_type_formHeader")},"Settings"),r.a.createElement("div",{className:"Text"},"Configure repository connection"," ",r.a.createElement("span",{className:"Text-NonBreakable"},"and synchronization settings"))),r.a.createElement("div",{className:"".concat("Form","-Item")},r.a.createElement(K,{className:"".concat("Form","-Input"),modifiers:[["clear","visible"]],labelBefore:{text:"GitHub repository",className:"".concat("Form","-Label ").concat("Form","-Label_type_required"),modifiers:[["type","formLabel"]]},id:"repository",type:"text",placeholder:"user-name/repo-name",name:"repository",required:!0,value:f,forwardRef:l})),r.a.createElement("div",{className:"".concat("Form","-Item")},r.a.createElement(K,{className:"".concat("Form","-Input"),modifiers:[["clear","visible"]],labelBefore:{text:"Build command",className:"".concat("Form","-Label"),modifiers:[["type","formLabel"]]},id:"command",type:"text",placeholder:"npm ci && npm run build",name:"command",required:!0,value:p,forwardRef:u})),r.a.createElement("div",{className:"".concat("Form","-Item")},r.a.createElement(K,{className:"".concat("Form","-Input"),modifiers:[["clear","visible"]],labelBefore:{text:"Main branch",className:"".concat("Form","-Label"),modifiers:[["type","formLabel"]]},id:"branch",type:"text",placeholder:"master",name:"branch",required:!0,value:v,forwardRef:m})),r.a.createElement("div",{className:"".concat("Form","-Item ").concat("Form","-Item_type_flat")},r.a.createElement(K,{className:"".concat("Form","-Input"),modifiers:[["size","small"],["align","right"]],labelBefore:{text:"Synchronize every",className:"".concat("Form","-Label"),modifiers:[]},labelAfter:{text:"minutes",className:"".concat("Form","-Label"),modifiers:[]},id:"minutes",type:"text",inputMode:"numeric",pattern:"^[0]*[1-9][\\d]*$",name:"minutes",required:!0,value:b,forwardRef:d})),r.a.createElement("div",{className:"".concat("Form","-Item")},r.a.createElement("div",{className:"".concat("Form","-ButtonsBlock")},r.a.createElement(F,{className:"".concat("Form","-Button"),modifiers:[["color","accent"]],text:"Save",type:"submit"}),r.a.createElement(F,{type:"button",className:"".concat("Form","-Button"),onClick:function(){C.goBack()},text:"Cancel"})))))};var Z=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c;return Object(n.useEffect)((function(){document.title="Settings | ".concat(O)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{className:"Container-Header",title:{text:O,modifiers:[["type","headerTitle"]]}}),r.a.createElement(Q,{className:a,modifiers:o}))},ee=a(11);a(53);var te=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c,i=e.buildNumber,s=e.commitMessage,l=void 0===s?"":s,u=e.branchName,m=void 0===u?"":u,d=e.commitHash,f=void 0===d?"":d,p=e.authorName,v=void 0===p?"":p,b=e.status,h=e.start,N=e.duration,E=e.to,g=Object(n.useState)({full:"",short:""}),y=Object(k.a)(g,2),O=y[0],x=y[1];Object(n.useEffect)((function(){if(h){var e=h.split("T"),t=Object(k.a)(e,2),a=t[0],n=t[1],r={"01":"\u044f\u043d\u0432","02":"\u0444\u0435\u0432\u0440","03":"\u043c\u0430\u0440\u0442","04":"\u0430\u043f\u0440","05":"\u043c\u0430\u0439","06":"\u0438\u044e\u043d\u044c","07":"\u0438\u044e\u043b\u044c","08":"\u0430\u0432\u0433","09":"\u0441\u0435\u043d\u0442",10:"\u043e\u043a\u0442",11:"\u043d\u043e\u044f\u0431",12:"\u0434\u0435\u043a"};x(function(e,t){var a=e.split("-"),n=Object(k.a)(a,3),c=n[0],o=n[1],i=n[2],s=t.split(":"),l=Object(k.a)(s,2),u=l[0],m=l[1],d=r[o];return{full:"".concat(i," ").concat(d," ").concat(c,", ").concat(u,":").concat(m),short:"".concat(i," ").concat(d,", ").concat(u,":").concat(m)}}(a,n))}}),[h]);var j=Object(n.useState)(""),C=Object(k.a)(j,2),F=C[0],I=C[1];function _(e,t){return e.length>t?e.slice(0,t-1)+"...":e}Object(n.useEffect)((function(){if(N){I(function(e){var t=Math.floor(e/60),a=e%60,n=t?"".concat(t," \u0447"):"",r=a?"".concat(a," \u043c\u0438\u043d"):"";return"".concat(n).concat(t&&a?" ":"").concat(r)}(N))}}),[N]);var B=Object(n.useState)(""),L=Object(k.a)(B,2),S=L[0],P=L[1];Object(n.useEffect)((function(){m&&P(_(m,15))}),[m]);var D=Object(n.useState)(""),H=Object(k.a)(D,2),R=H[0],M=H[1];Object(n.useEffect)((function(){v&&M(_(v,15))}),[v]);var U=Object(n.useState)(""),W=Object(k.a)(U,2),A=W[0],G=W[1];Object(n.useEffect)((function(){f&&G(f.slice(0,7))}),[f]);var q=E?ee.a:"div";return r.a.createElement(q,{className:"".concat(a," ").concat("Card"," ").concat(w("Card",o)),to:E},r.a.createElement("div",{className:"".concat("Card","-Content")},r.a.createElement(T,{className:"".concat("Card","-Icon"),modifiers:[["type",b]]}),r.a.createElement("div",{className:"".concat("Card","-DataWrapper")},r.a.createElement("div",{className:"".concat("Card","-Data")},r.a.createElement("div",{className:"".concat("Card","-DataTitle")},r.a.createElement("div",{className:"".concat("Card","-Number")},"#",i),r.a.createElement("div",{className:"".concat("Card","-CommitName Text Text_type_commit")},l)),r.a.createElement("div",{className:"".concat("Card","-DataOther")},r.a.createElement("div",{className:"".concat("Card","-OtherInfo")},r.a.createElement(T,{className:"".concat("Card","-OtherIcon"),modifiers:[["type","branch"]]}),r.a.createElement("div",{className:"".concat("Card","-OtherText Text Text_type_card")},S),r.a.createElement("div",{className:"".concat("Card","-OtherText ").concat("Card","-OtherText_type_hash Text Text_type_card")},A)),r.a.createElement("div",{className:"".concat("Card","-OtherInfo")},r.a.createElement(T,{className:"".concat("Card","-OtherIcon"),modifiers:[["type","user"]]}),r.a.createElement("div",{className:"".concat("Card","-OtherText Text Text_type_card")},R)))),r.a.createElement("div",{className:"".concat("Card","-TimeBlock")},r.a.createElement("div",{className:"".concat("Card","-TimeItem ").concat(O.short?"":"".concat("Card","-TimeItem_hidden"))},r.a.createElement(T,{className:"".concat("Card","-TimeIcon"),modifiers:[["type","calendar"]]}),r.a.createElement("div",{className:"".concat("Card","-TimeText Text Text_type_card"),title:O.full||""},O.short||"")),r.a.createElement("div",{className:"".concat("Card","-TimeItem ").concat(F?"":"".concat("Card","-TimeItem_hidden"))},r.a.createElement(T,{className:"".concat("Card","-TimeIcon"),modifiers:[["type","stopwatch"]]}),r.a.createElement("div",{className:"".concat("Card","-TimeText Text Text_type_card")},F||""))))))};a(55);var ae=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c,i=Object(s.c)(G),l=Object(s.b)();Object(n.useEffect)((function(){l(D({limit:10}))}),[]);var u=Object(n.useCallback)((function(){return l(function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){n(_(!0));var r=new URL("".concat(x,"/builds"));return r.search=new URLSearchParams(t).toString(),console.log("fetchMoreBuilds: ",r),fetch(r).then((function(e){return e.json()})).then(function(){var r=Object(P.a)(S.a.mark((function r(c){var o;return S.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.data,!c.error){r.next=9;break}if(!(++a<10)){r.next=7;break}return r.next=6,new Promise((function(e){return setTimeout(e,1e3)}));case 6:return r.abrupt("return",e(t,a)(n));case 7:r.next=10;break;case 9:n({type:v,payload:o});case 10:n(_(!1));case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}}({limit:10,offset:i.length}))}),[i.length]);return r.a.createElement("main",{className:"".concat(a," ").concat("BuildList"," ").concat(w("BuildList",o))},r.a.createElement("div",{className:"".concat("BuildList","-Content")},i.map((function(e){var t,a=e.status,n=e.id,c=e.buildNumber,o=e.commitMessage,i=e.branchName,s=e.commitHash,l=e.authorName,u=e.start,m=e.duration;switch(a){case"InProgress":case"Waiting":t="progress";break;case"Success":t="done";break;case"Fail":case"Canceled":default:t="fail"}return r.a.createElement(te,{className:"".concat("BuildList","-Item"),modifiers:[["type",t]],buildId:n,to:"/build/".concat(n),buildNumber:c,commitMessage:o,branchName:i,commitHash:s,authorName:l,start:u,duration:m,key:n,status:t})})),r.a.createElement(F,{className:"".concat("BuildList","-Button"),modifiers:[["type","controlExtended"]],text:"Show more",onClick:u})))},ne={config:{}},re=function(e){return e.settings.config};var ce=function(e){var t=e.className,a=void 0===t?"":t;Object(n.useEffect)((function(){document.title="Build history | ".concat(O)}),[]);var c=Object(s.c)(re);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{className:"Container-Header",title:{text:c.repoName,modifiers:[["type","repositoryName"]]},buttons:[{modifiers:[["type","control"],["icon","before"]],onClick:g,text:"Run build",iconType:"play"},{modifiers:[["type","control"],["icon","only"]],onClick:E,iconType:"settings"}]}),r.a.createElement(ae,{className:a}))};a(56);var oe=function(e){var t=e.className,a=void 0===t?"":t,n=e.modifiers,c=void 0===n?[]:n,o=e.logString,i=void 0===o?"":o;return r.a.createElement("pre",{className:"".concat(a," ").concat("BuildLog"," ").concat(w("BuildLog",c)),dangerouslySetInnerHTML:{__html:i}})};a(57),a(58);var ie=function(){return r.a.createElement("div",{className:"Loader"},r.a.createElement("div",{className:"Loader-SpinerWrapper"},r.a.createElement("div",{className:"Loader-Spiner"})))},se=a(59);var le=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c,l=Object(i.g)().buildId,u=Object(s.c)(G),m=Object(s.c)(X),d=Object(s.c)(q),f=Object(s.c)(z),p=Object(n.useState)(""),v=Object(k.a)(p,2),N=v[0],E=v[1],g=new se({fg:"#000",bg:"#000"}),y=Object(s.b)();Object(n.useEffect)((function(){m===l||u.some((function(e){return e.id===l}))?y(function(e){return function(){var t=Object(P.a)(S.a.mark((function t(a){var n,r,c,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(_(!0)),t.next=3,Promise.all([H(e)(a),R(e)(a)]);case 3:if(n=t.sent,r=Object(k.a)(n,2),c=r[0],null!==(o=r[1])&&null!==c){t.next=11;break}return a(_(!1)),C.push("/"),t.abrupt("return",null);case 11:a({type:h,payload:o}),a({type:b,payload:c}),a(_(!1));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l)):C.push("/")}),[l,u,m]),Object(n.useEffect)((function(){E(g.toHtml(f||""))}),[f,g]);var O=Object(n.useState)(""),x=Object(k.a)(O,2),j=x[0],T=x[1];return Object(n.useEffect)((function(){if(d){var e;switch(d.status){case"InProgress":case"Waiting":e="progress";break;case"Success":e="done";break;case"Fail":case"Canceled":default:e="fail"}T(e)}}),[d]),r.a.createElement("main",{className:"".concat(a," ").concat("BuildDetails"," ").concat(w("BuildDetails",o))},r.a.createElement("div",{className:"".concat("BuildDetails","-Content")},d&&d.id===l?r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{className:"".concat("BuildDetails","-Item"),modifiers:[["type",j],["page","details"]],buildId:d.id,buildNumber:d.buildNumber,commitMessage:d.commitMessage,branchName:d.branchName,commitHash:d.commitHash,authorName:d.authorName,start:d.start,duration:d.duration,status:j}),N&&r.a.createElement(oe,{logString:N})):r.a.createElement(ie,null)))};var ue=function(e){var t=e.className,a=void 0===t?"":t;Object(n.useEffect)((function(){document.title="Build details | ".concat(O)}),[]);var c=Object(s.c)(re);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{className:"Container-Header",title:{text:c.repoName,modifiers:[["type","repositoryName"]]},buttons:[{modifiers:[["type","control"],["icon","before"]],onClick:y,text:"Rebuild",iconType:"restart"},{modifiers:[["type","control"],["icon","only"]],onClick:E,iconType:"settings"}]}),r.a.createElement(le,{className:a}))};a(66);var me=function(e){var t=e.className,a=void 0===t?"":t,n=e.modifiers,c=void 0===n?[]:n;return r.a.createElement("main",{className:"".concat(a," ").concat("NotFound"," ").concat(w("NotFound",c))},r.a.createElement("div",{className:"".concat("NotFound","-Content")},"Page not found. Error 404. ",r.a.createElement(ee.a,{to:"/"},"Go to home page"),"."))};var de=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c;return Object(n.useEffect)((function(){document.title="Page not found | ".concat(O)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{className:"Container-Header",title:{text:O,modifiers:[["type","headerTitle"]]}}),r.a.createElement(me,{className:a,modifiers:o}))};a(67),a(68);var fe=function(e){var t=e.className,a=void 0===t?"":t,n=e.modifiers,c=void 0===n?[]:n;return r.a.createElement("footer",{className:"".concat(a," ").concat("Footer"," ").concat(w("Footer",c))},r.a.createElement("div",{className:"".concat("Footer","-Content")},r.a.createElement("div",{className:"".concat("Footer","-LinksWrapper")},r.a.createElement(ee.a,{to:"/support",className:"".concat("Footer","-Link MyLink MyLink_type_footer")},"Support"),r.a.createElement(ee.a,{to:"/learning",className:"".concat("Footer","-Link MyLink MyLink_type_footer")},"Learning")),r.a.createElement("div",{className:"".concat("Footer","-Credentional Text Text_type_footer")},"\xa9 2020 Your Name")))},pe={isInProgress:!1,isAppLoading:!0,isPopupActive:!1},ve=function(e){return e.common.isInProgress},be=function(e){return e.common.isAppLoading},he=function(e){return e.common.isPopupActive};a(69);var Ne=function(e){var t=e.className,a=void 0===t?"":t,c=e.modifiers,o=void 0===c?[]:c,i=Object(s.b)(),l=Object(n.useRef)(null),u=function(){var e=Object(P.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.preventDefault(),a=l.current.value.trim(),console.log("commitHash: ",a),i(M(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Popup-Wrapper"},r.a.createElement("form",{className:"Popup ".concat(a," ").concat("Form"," ").concat(w("Form",o)),onSubmit:u},r.a.createElement("div",{className:"".concat("Form","-Content")},r.a.createElement("div",{className:"".concat("Form","-Header Text Text_type_popupHeader")},"New build"),r.a.createElement("div",{className:"".concat("Form","-Item")},r.a.createElement(K,{className:"".concat("Form","-Input"),modifiers:[["clear","visible"]],labelBefore:{text:"Enter the commit hash which you want to build.",className:"".concat("Form","-Label"),modifiers:[["type","formLabel"]]},id:"commit",type:"text",placeholder:"Commit hash",pattern:"\\S+",name:"commit",required:!0,value:"",forwardRef:l})),r.a.createElement("div",{className:"".concat("Form","-Item")},r.a.createElement("div",{className:"".concat("Form","-ButtonsBlock")},r.a.createElement(F,{className:"".concat("Form","-Button"),modifiers:[["color","accent"]],text:"Run build",type:"submit"}),r.a.createElement(F,{type:"button",className:"".concat("Form","-Button"),modifiers:[["color","transparent"]],onClick:function(){l.current.value="",i(B(!1))},text:"Cancel"}))))))};var Ee=function(e){var t=Object(s.c)(be),a=Object(s.c)(he),c=Object(s.c)(ve),o=Object(s.c)(re),u=Object(s.b)();return Object(n.useEffect)((function(){u(function(){var e=Object(P.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y()(t);case 2:if(null!==(a=e.sent)){e.next=6;break}return C.go(),e.abrupt("return");case 6:if(!a.repoName){e.next=9;break}return e.next=9,D({limit:10})(t);case 9:t({type:m,payload:a}),t({type:l,payload:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[u]),Object(n.useEffect)((function(){var e=document.getElementById("root");a?e.classList.add("Container_popup_active"):e.classList.remove("Container_popup_active")}),[a]),Object(n.useEffect)((function(){var e=document.getElementById("root");c?e.classList.add("Container_inactive"):e.classList.remove("Container_inactive")}),[c]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ie,null):r.a.createElement(i.c,{history:C},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return o.repoName?r.a.createElement(ce,{className:"Container-Main"}):r.a.createElement(V,{className:"Container-Main"})}}),r.a.createElement(i.b,{path:"/build/:buildId",render:function(e){var t=e.location;return o.repoName?r.a.createElement(ue,{className:"Container-Main"}):r.a.createElement(i.a,{to:{pathname:"/",state:{from:t}}})}}),r.a.createElement(i.b,{path:"/settings"},r.a.createElement(Z,{className:"Container-Main"})),r.a.createElement(i.b,{path:"*"},r.a.createElement(de,{className:"Container-Main"}))),r.a.createElement(fe,{className:"Container-Footer"}),a&&r.a.createElement(Ne,{modifiers:[["popup"]]})))},ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ye(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Oe=a(31),xe=a(32),je=a(35),Ce=a(34),ke=function(e){Object(je.a)(a,e);var t=Object(Ce.a)(a);function a(e){var n;return Object(Oe.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(xe.a)(a,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{className:"Container-Header",title:{text:O,modifiers:[["type","headerTitle"]]}}),r.a.createElement("main",{className:"Container-Main"},"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."),r.a.createElement(fe,{className:"Container-Footer"})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(n.Component),we=a(12),Te=a(33),Fe=Object(we.c)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(W.a)({},e,{isInProgress:t.payload});case l:return Object(W.a)({},e,{isAppLoading:t.payload});case u:return Object(W.a)({},e,{isPopupActive:t.payload});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var a=t.payload,n=a.repoName,r=a.buildCommand,c=a.mainBranch,o=a.period;return Object(W.a)({},e,{config:{repoName:n,buildCommand:r,mainBranch:c,period:o}});case m:return Object(W.a)({},e,{config:Object(W.a)({},t.payload)});default:return e}},builds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(W.a)({},e,{data:Object(U.a)(t.payload)});case v:for(var a=e.data[e.data.length-1],n=a?a.buildNumber:-1,r=[],c=0;c<t.payload.length;c++)t.payload[c].buildNumber>=n||r.push(t.payload[c]);return Object(W.a)({},e,{data:[].concat(Object(U.a)(e.data),r)});case b:return Object(W.a)({},e,{details:Object(W.a)({},t.payload)});case h:return Object(W.a)({},e,{log:t.payload});case N:return Object(W.a)({},e,{newBuildId:t.payload});default:return e}}}),Ie=[Te.a],_e=Object(we.e)(Fe,{},Object(we.d)(we.a.apply(void 0,Ie),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),Be=document.getElementById("root");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:_e},r.a.createElement(ke,null,r.a.createElement(Ee,null)))),Be),function(e){if("serviceWorker"in navigator){if(console.log("register start"),new URL("",window.location.href).origin!==window.location.origin)return void console.error("publicUrl.origin !== window.location.origin error with registering");window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ge?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ye(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served CacheFirst, StaleWhileRevalidate, NetworkFirst by a service worker.")}))):ye(t,e)}))}}()}},[[36,1,2]]]);
//# sourceMappingURL=main.15e420fc.chunk.js.map